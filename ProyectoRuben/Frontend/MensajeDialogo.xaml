<Window x:Class="di.proyecto.clase._2025.Frontend.Mensajes.MensajeDialogo"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:di.proyecto.clase._2025.Frontend.Mensajes"
        mc:Ignorable="d"
        WindowStartupLocation="CenterOwner"
        ResizeMode="NoResize"
        SizeToContent="WidthAndHeight"
        MinWidth="360"
        ShowInTaskbar="False">
    <Grid Margin="16">
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="90" />
            <ColumnDefinition Width="*" />
        </Grid.ColumnDefinitions>

        <!-- Icon: si IconSource no es null muestra la imagen; si es null muestra el glyph según MessageType -->
        <Grid Grid.Column="0"
              HorizontalAlignment="Center"
              VerticalAlignment="Center">
            <Image Source="{Binding IconSource, RelativeSource={RelativeSource AncestorType=Window}}"
                   Width="64"
                   Height="64">
                <Image.Style>
                    <Style TargetType="Image">
                        <Setter Property="Visibility"
                                Value="Visible" />
                        <Style.Triggers>
                            <DataTrigger Binding="{Binding IconSource, RelativeSource={RelativeSource AncestorType=Window}}"
                                         Value="{x:Null}">
                                <Setter Property="Visibility"
                                        Value="Collapsed" />
                            </DataTrigger>
                        </Style.Triggers>
                    </Style>
                </Image.Style>
            </Image>

            <Border Width="64"
                    Height="64"
                    CornerRadius="6"
                    Background="{Binding AccentColor, RelativeSource={RelativeSource AncestorType=Window}}"
                    HorizontalAlignment="Center"
                    VerticalAlignment="Center">
                <Border.Style>
                    <Style TargetType="Border">
                        <Setter Property="Visibility"
                                Value="Collapsed" />
                        <Style.Triggers>
                            <DataTrigger Binding="{Binding IconSource, RelativeSource={RelativeSource AncestorType=Window}}"
                                         Value="{x:Null}">
                                <Setter Property="Visibility"
                                        Value="Visible" />
                            </DataTrigger>
                        </Style.Triggers>
                    </Style>
                </Border.Style>

                <TextBlock Text="{Binding IconGlyph, RelativeSource={RelativeSource AncestorType=Window}}"
                           Foreground="White"
                           FontSize="32"
                           FontWeight="Bold"
                           HorizontalAlignment="Center"
                           VerticalAlignment="Center" />
            </Border>
        </Grid>

        <!-- Content -->
        <StackPanel Grid.Column="1"
                    Margin="12,0,0,0">
            <TextBlock Text="{Binding TitleText, RelativeSource={RelativeSource AncestorType=Window}}"
                       FontSize="16"
                       FontWeight="Bold"
                       Foreground="Black" />
            <ScrollViewer VerticalScrollBarVisibility="Auto"
                          MaxHeight="240"
                          Margin="0,8,0,8">
                <TextBlock Text="{Binding MessageText, RelativeSource={RelativeSource AncestorType=Window}}"
                           TextWrapping="Wrap"
                           Foreground="Black" />
            </ScrollViewer>

            <StackPanel Orientation="Horizontal"
                        HorizontalAlignment="Right">
                <Button Content="Aceptar"
                        Width="100"
                        IsDefault="True"
                        Margin="0,0,8,0"
                        Click="OkButton_Click" />
                <Button Content="Cancelar"
                        Width="100"
                        IsCancel="True"
                        Click="CancelButton_Click" />
            </StackPanel>
        </StackPanel>
    </Grid>
</Window>
